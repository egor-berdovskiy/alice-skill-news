# Навык "Новости" для станций Яндекс

# Установка

0. Создайте виртуальное окружение и активируйте его
``` shell
python -m venv venv
source .\venv\Scripts\activate -- Windows
source ./venv/bin\activate  -- Linux
```

2. Установите зависимости в ваше виртуальное окружение
``` shell
pip install -r requirements.txt
```

3. Перейдите на платформу [Яндекс Диалоги](https://dialogs.yandex.ru/developer) и создайте диалог:
	* В поле __backend__ выберите Webhook URL и впишите адрес back-end приложения на который будут поступать запросы.
	* В поле тип доступа обязательно выбираем __приватный__, чтобы не проходить модерацию, тем не менее навык будет доступен на вашем аккаунте.
	* Сохраняем навык, ждем пока он станет доступен. 

4. Запустите бэкенд, бота и приложение для обработки запросов (по сути логику навыка)
``` shell
python .\backend\app.py
python .\bot\bot.py
python .\alice\app.py
```
   

# Использование
1. Зайдите в телеграм бота, токен которого вы указали в bot/config, пройдите регистрацию.
2. Начните процесс связывания аккаунта, вам будет сообщена секретная фраза.
3. Начните диалог с Алисой и снова начните процесс связывания, сообщите секретную фразу.
4. В телеграм боте добавьте интересующие вас каналы.
5. Чтобы узнать о новых постах в каналах, спросите Алису -- "что нового?"

# Полезная информация
* Для отладки Алисы локально советую использовать [alice-nearby](https://github.com/azzzak/alice-nearby).
* Для отладки бота можете использовать [port forwarding](https://code.visualstudio.com/docs/editor/port-forwarding) в VS Code или [ngrok](https://ngrok.com/).
